@using SocialNetwork.Services
@model SocialNetwork.Models.PostModel
@inject FileService FileService

@{
    ViewData["Title"] = "Details";
}

<div class="border border-black shadow-offset w-7/12 p-6">
    <div class="flex justify-between">
        <a asp-controller="User" asp-action="Detail" asp-route-id="@Model.ApplicationUser.Id">
            <div class="flex gap-2 items-center">
                <img class="w-12 h-12 rounded-full" src="@FileService.GetImageFullUrl(Model.ApplicationUser.ImageUrl)" alt="profile image"/>
                <h3 class="text-lg">@Model.ApplicationUser.UserName</h3>
            </div>
        </a>
        <div class="bg-primary rounded p-2 text-gray-900 shadow-offset border-black border sm:text-sm sm:leading-6">
            <h4 class="text-3xl">@Model.PostType</h4>
        </div>
    </div>
    <div class="flex justify-between items-center">
        <h1 class="text-4xl my-8">@Model.Title</h1>
        <div class="bg-primary rounded p-2 text-gray-900 shadow-offset border-black border sm:text-sm sm:leading-6">
            <h4 class="text-3xl">@Model.Category</h4>
        </div>
    </div>
    <div class="block h-64 w-full rounded p-2 text-gray-900 shadow-offset border border-black sm:text-sm sm:leading-6">
        <p class="text-lg">@Model.Description</p>
    </div>
    @if (FileService.GetImageFullUrl(Model.ImageUrl) != null)
    {
        <div class="mt-8">
            <img src="@FileService.GetImageFullUrl(Model.ImageUrl)" class="w-full h-auto rounded p-2 shadow-offset ring-1 ring-inset ring-black focus-visible:outline-none sm:text-sm sm:leading-6" alt="post image"/>
        </div>
    }
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div>